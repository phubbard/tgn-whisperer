name: tgn-whisperer
prefect-version: 3.0.0

# Pull configuration
# Note: Set PREFECT_WORKING_DIRECTORY environment variable to override the default path
pull:
  - prefect.deployments.steps.set_working_directory:
      directory: "{{ $PREFECT_WORKING_DIRECTORY | default('/home/pfh/code/tgn-whisperer') }}"

# Work pools
work-pools:
  - name: podcast-processing
    type: process
    concurrency: 10

# Deployments
deployments:
  - name: process-all-podcasts
    version: 1.0.0
    description: Main podcast processing workflow
    schedule:
      interval: 3600  # Run every hour
    work_pool:
      name: podcast-processing
    entrypoint: app/flows/main.py:process_all_podcasts
